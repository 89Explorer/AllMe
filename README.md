# AllMe

<img src="https://github.com/user-attachments/assets/3f4e8266-aec8-4972-b271-320f4306206b" width="200" height="200"/>
<br/>

## ğŸ“Œ ì•± ì†Œê°œ
  - AllMeëŠ” ì‚¬ìš©ìê°€ ìì‹ ì˜ í”¼ë“œë¥¼ ì‘ì„±í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.
  - Core Data, FileManaagerë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ì ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.
  - ì§ê´€ì ì¸ UIë¥¼ ì œê³µí•˜ì—¬ ì‰½ê²Œ í”¼ë“œë¥¼ ì‘ì„±í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
  - ë°ì´í„°ì˜ íë¦„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ Combine + MVVM ê¸°ë°˜ CRUD êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
<br/>


## âœ¨ ì£¼ìš” ê¸°ëŠ¥
  - Facebook, Google ì†Œì…œ ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
  - í”¼ë“œ ì‘ì„±: ì‚¬ìš©ìê°€ ìì‹ ì˜ í”¼ë“œë¥¼ ì‘ì„±í•˜ê³  ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - Core Data ì—°ë™: ë°ì´í„°ë¥¼ ë¡œì»¬ì— ì €ì¥í•˜ê³ , ì•±ì´ ì¢…ë£Œë˜ì–´ë„ ìœ ì§€ë©ë‹ˆë‹¤.
<br/>


## ğŸ“¸ ìŠ¤í¬ë¦°ìƒ·
<img src="https://github.com/user-attachments/assets/96eeddf7-f0be-4948-a900-b9156d7f0f99"/>
<img src="https://github.com/user-attachments/assets/644eda4d-72b4-4827-ae23-4fbd24747412"/>
<br/>


## ğŸ¥ ì‹œì—° ì˜ìƒ
<p align="center">
<img src="https://github.com/user-attachments/assets/e223cd83-ea6d-41cb-b8af-847f905de235" height="400"/>
<img src="https://github.com/user-attachments/assets/bdf50751-d78a-403b-81d1-e47bd7c2bcf2" height="400"/>
<img src="https://github.com/user-attachments/assets/4df5f0c9-77c0-4564-bc6d-605e2cb67ab9" height="400"/>
<img src="https://github.com/user-attachments/assets/74c1a6ed-88a2-4f40-bd07-0e737d2b49fc" height="400"/>
</p>
<br/>


## ğŸ”§ ì•± ê°œë°œ í™˜ê²½
- ê°œë°œ ì–¸ì–´: Swift
- ê°œë°œ ë„êµ¬: Xcode
- ë°ì´í„° ê´€ë¦¬: Core Data
- íšŒì› ê´€ë¦¬: Firebase
- ì•„í‚¤í…ì²˜: MVVM + Combine
<br/>


## âš™ï¸ êµ¬í˜„ ê³ ë ¤ì‚¬í•­
- Firebaseì—ì„œ ì œê³µí•˜ëŠ” ì†Œì…œë¡œê·¸ì¸ ì‚¬ìš©
- FileManagerë¡œ ì´ë¯¸ì§€ë¥¼ ì €ì¥ ë° ê²½ë¡œ ë°˜í™˜
- CoreDataì—ì„œ í…ìŠ¤íŠ¸ ë° ì´ë¯¸ì§€ ê²½ë¡œ ì €ì¥
- í”¼ë“œ ì‘ì„± ë° ìˆ˜ì • í˜ì´ì§€ëŠ” ê³µìš©ìœ¼ë¡œ ì‚¬ìš©
- Combine + MVVM ì•„í‚¤í…ì²˜ë¥¼ ì ìš©í•˜ì—¬ ë³´ë‹¤ íš¨ìœ¨ì ì¸ ë°ì´í„° íë¦„ ê´€ë¦¬
<br/>


## ğŸ›  ê°œë°œ ê¸°ê°„
- ê°œë°œ ê¸°ê°„: 3ì£¼
- ê°œë°œ ì¸ì›: 1ì¸
<br/>


## ğŸ‘ğŸ» íšŒê³ 
ì´ ì „ì— DailyNote ì•±ì„ ë§Œë“¤ì—ˆëŠ”ë°, í•´ë‹¹ ì•±ë„ AllMeì™€ ë§ˆì°¬ê°€ì§€ë¡œ ê°œì¸ í”¼ë“œ ì‘ì„± ë° ì €ì¥ì´ ê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤. 
ì´ ë•ŒëŠ” MVCíŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ CoreData ë° FileManagerì˜ ë©”ì„œë“œë¥¼ ì§ì ‘ í˜¸ì¶œí•´ì„œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. 

DailyNoteë¥¼ ë§Œë“¤ë©´ì„œ ê²ªì—ˆë˜ ë¶ˆí¸í•¨ì´ "ìœ ì§€ë³´ìˆ˜" ì…ë‹ˆë‹¤. 

ì´ë²ˆì— AllMeëŠ” ê°œì¸ í”¼ë“œ ê´€ë¦¬í•˜ëŠ” ì•±ìœ¼ë¡œ, ì´ì „ì˜ DailyNoteì™€ ë™ì¼í•œ ê¸°ëŠ¥ì„ í•©ë‹ˆë‹¤. ë‹¤ë§Œ, DailyNoteë¥¼ ë§Œë“¤ë©´ì„œ ê²ªì—ˆë–¤ ìœ ì§€ë³´ìˆ˜ ë° UI ì—…ë°ì´íŠ¸ ë¶€ë¶„ì„ ${\textsf{\color{green}Combine + MVVM}}$ ì„ í™œìš©í•˜ì—¬ ë°ì´í„° ê´€ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ”ë° ì´ˆì ì„ ë§ì¶”ì–´ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤. ğŸš€


ğŸ“Œ MVCì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œ (DailyNote)

```
class FeedViewController: UIViewController {
    let coreDataManager = CoreDataManager()

    func saveFeed(title: String, content: String) {
        coreDataManager.saveFeed(title: title, content: content) // CoreData ì§ì ‘ í˜¸ì¶œ
        loadFeeds()
    }

    func loadFeeds() {
        let feeds = coreDataManager.fetchFeeds() // CoreData ì§ì ‘ í˜¸ì¶œ
        updateUI(with: feeds)
    }
}

```

âŒ ë¬¸ì œì 
- CoreDataManagerì˜ ë©”ì„œë“œê°€ ë³€ê²½ë˜ë©´, ViewControllerì—ì„œë„ ë³€ê²½ì´ í•„ìš”.
- ViewControllerê°€ ë°ì´í„° ë¡œì§ì„ ì§ì ‘ ë‹¤ë£¨ë¯€ë¡œ ê°•í•œ ê²°í•©ë„ê°€ ë°œìƒ.
- ìœ ì§€ë³´ìˆ˜í•  ë•Œ ëª¨ë“  ViewControllerì—ì„œ CoreDataë¥¼ ìˆ˜ì •í•´ì•¼ í•¨.

<br/>

ğŸ“Œ MVVM + Combineì—ì„œ í•´ê²°ë˜ëŠ” ë¬¸ì œ (AllMe)
```
class FeedManager {
    
    static let shared = FeedManager()
    private let context = (UIApplication.shared.delegate as! AppDelegate).persistentContainer.viewContext
    private let storageManager = FeedStorageManager.shared
    
    // MARK: - Create
    func createFeed(_ feed: FeedItem, images: [UIImage]) -> AnyPublisher<FeedItem, Error> {
        return Future { [weak self] promise in
            guard let self = self else { return }
            let savedPaths = self.storageManager.saveImages(images: images, feedID: feed.id)
            var updatedFeed = feed
            updatedFeed.imagePath = savedPaths
            
            let feedModel = FeedModel(context: self.context)
            feedModel.id = updatedFeed.id
            feedModel.title = updatedFeed.title
            feedModel.content = updatedFeed.contents
            feedModel.date = updatedFeed.date
            feedModel.imagePath = updatedFeed.imagePath.isEmpty ? nil : updatedFeed.imagePath.joined(separator: ",")
            
            do {
                try self.context.save()
                print("Feed + images saved successfully to CoreData.")
                promise(.success(updatedFeed)) 
            } catch {
                print("Failed to save feed: \(error)")
                promise(.failure(error))
            }
        }
        .eraseToAnyPublisher()
    }
```

<br/>

```
class FeedItemViewModel: ObservableObject {
    @Published var userFeed: FeedItem = FeedItem(id: "")
    @Published var feeds: [FeedItem] = []
    @Published var errorMessage: String?
    
    private var cancellables = Set<AnyCancellable>()
    private let feedManager = FeedManager.shared
    
    
    // MARK: - Create
    func createFeed(_ feed: FeedItem, images: [UIImage]) {
        feedManager.createFeed(feed, images: images)
            .sink(receiveCompletion: { completion in
                switch completion {
                case .finished:
                    break
                case .failure(let error):
                    self.errorMessage = error.localizedDescription
                }
            }, receiveValue: { [weak self] savedFeed in
                self?.feeds.append(savedFeed)
                self?.userFeed = FeedItem(id: "")
            })
            .store(in: &cancellables)
    }
```

```
class FeedViewController: UIViewController {
    private let viewModel = FeedItemViewModel()
    private var cancellables = Set<AnyCancellable>()
    ...

    override func viewDidLoad() {
        super.viewDidLoad()
        setupBindings()
        registerFeedButton.addTarget(self, action: #selector(registerFeed), for: .touchUpInside)
        ...
    }

    private func setupBindings() {
          viewModel.$feeds
              .receive(on: RunLoop.main)
              .sink { [weak self] _ in
                  self?.feedTableView.reloadData()
              }
              .store(in: &cancellables)

          viewModel.$errorMessage
              .compactMap { $0 }
              .receive(on: RunLoop.main)
              .sink { errerMessage in
                  print("Error: \(errerMessage)")
              }
              .store(in: &cancellables)
      }

    @objc private func registerFeed() {
    
    let finalImages = existingImages + selectedImages 
    
    switch mode {
    case .create:
        viewModel.userFeed.id = UUID().uuidString
        viewModel.createFeed(viewModel.userFeed, images: finalImages)

    case .edit(let feedItem, _):
        viewModel.userFeed.id = feedItem.id
        viewModel.updateFeed(viewModel.userFeed, images: finalImages)

        DispatchQueue.main.async {
            self.completionHandler?(self.viewModel.userFeed, finalImages)
        }
    }
    dismiss(animated: true)
}

```

âœ… MVVM + Combineì˜ ì¥ì 
- CoreDataì˜ ë³€ê²½ì´ ViewModelì—ì„œë§Œ ì´ë£¨ì–´ì§
â†’ ViewControllerëŠ” ViewModelì˜ ë°ì´í„°ë¥¼ êµ¬ë…ë§Œ í•˜ë¯€ë¡œ CoreDataManagerì˜ ë³€ê²½ì´ UIì— ì§ì ‘ ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ.

- ViewControllerì˜ ì—­í• ì´ ë‹¨ìˆœí•´ì§
â†’ ViewModelì„ êµ¬ë…í•˜ê¸°ë§Œ í•˜ë©´ UI ì—…ë°ì´íŠ¸ê°€ ìë™ìœ¼ë¡œ ì´ë£¨ì–´ì§.
â†’ UIì™€ ë°ì´í„° ë¡œì§ì´ ë¶„ë¦¬ë˜ì–´ ìœ ì§€ë³´ìˆ˜ ìš©ì´.

- ìë™ UI ì—…ë°ì´íŠ¸
â†’ viewModel.$feedsê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ UI ì—…ë°ì´íŠ¸ (tableView.reloadData()).

<br/>
ğŸ“ ì •ë¦¬

- MVC (DailyNote) â†’ CoreData ë¡œì§ì„ ìˆ˜ì •í•˜ë©´ ëª¨ë“  ViewControllerì—ì„œ ì§ì ‘ ìˆ˜ì • í•„ìš” âŒ
- MVVM + Combine (AllMe) â†’ CoreData ë¡œì§ì´ ìˆ˜ì •ë˜ì–´ë„ ViewModelë§Œ ë³€ê²½í•˜ë©´ ìë™ ë°˜ì˜ âœ…

















